# A	worldnews
# B	environment
# C	collapse
# D	Libertarian
# E	conservation
# F	LateStageCapitalism
# G	goodnews
# H	VoluntaristMemes
# I	ABoringDystopia
# J	Anarcho_Capitalism
# K	landconservation
# L	WayOfTheBern
# M	EcoNewsNetwork
# N	UpliftingNews
# O	ClimateActionPlan

import numpy as np

# iteration Matrix
A = np.array([
    45.0/281.0, 30.0/281.0, 10.0/281.0, 3.0/281.0, 9.0/281.0, 16.0/281.0, 1.0/281.0, 62.0/281.0, 20.0/281.0, 9.0/281.0, 0.0/281.0, 8.0/281.0, 49.0/281.0, 14.0/281.0, 5.0/281.0
])

# weighted edges matrix
B = np.array([
[0, 0.4285714286, 0.1428571429, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.2857142857, 0.1428571429],
[0.06666666667, 0.06666666667, 0.08888888889, 0, 0.06666666667, 0, 0, 0, 0, 0, 0, 0, 0.6666666667, 0, 0.04444444444],
[0.5555555556, 0.4444444444, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0.75, 0.125, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.125, 0],
[0.05555555556, 0.1666666667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.7777777778, 0, 0],
[0.1428571429, 0.03571428571, 0, 0, 0, 0, 0, 0, 0.4642857143, 0.1071428571, 0, 0.2142857143, 0, 0.03571428571, 0],
[0.5, 0.5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0.5384615385, 0.07692307692, 0, 0, 0, 0, 0, 0, 0, 0.3846153846, 0, 0, 0, 0, 0],
[0.04166666667, 0.04166666667, 0.04166666667, 0, 0, 0.625, 0, 0.04166666667, 0, 0.04166666667, 0, 0, 0, 0.1666666667, 0],
[0.05405405405, 0.01351351351, 0.01351351351, 0.01351351351, 0, 0, 0, 0.8243243243, 0.08108108108, 0, 0, 0, 0, 0, 0],
[0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0.125, 0.125, 0.25, 0, 0.125, 0, 0, 0.125, 0, 0, 0.25, 0, 0, 0],
[0, 0.4090909091, 0.09090909091, 0, 0.2727272727, 0, 0, 0, 0, 0, 0, 0, 0.04545454545, 0.1818181818, 0],
[0.6, 0, 0, 0, 0, 0, 0.05, 0, 0, 0, 0, 0, 0.2, 0.05, 0.1],
[0.5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.5, 0]
])

# Page Rank
for i in range(100):
    C = A.dot(B)
    A = C/C.sum(axis=0,keepdims=1)

print(A)
print(np.sum(A))

# OUTPUT:
# Before the unit vector:
# [  1.58809640e-01   2.41792078e-01   6.84641888e-02   4.94789864e-21
#    8.89728767e-02   2.20373301e-20   6.14776790e-03   2.94488640e-20
#    2.06796439e-20   2.22818335e-20   0.00000000e+00   1.17188166e-20
#    2.67129151e-01   1.22955358e-01   4.57289418e-02]
# 1.00000000204

# After:
# [  1.58809639e-01   2.41792078e-01   6.84641887e-02   4.94789863e-21
#    8.89728765e-02   2.20373301e-20   6.14776789e-03   2.94488639e-20
#    2.06796439e-20   2.22818335e-20   0.00000000e+00   1.17188166e-20
#    2.67129150e-01   1.22955358e-01   4.57289417e-02]
# 1.0